module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.w={},n(n.s=41)}([function(e,t){e.exports=require("babel-runtime/helpers/asyncToGenerator")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("babel-runtime/core-js/promise")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.netApi=void 0;var r=n(32),u=n(31);t.netApi=(0,u.generateNet)(r.config,r.useInterceptors)},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t,n){"use strict";var r=i(n(17)),u=i(n(7)),a=i(n(5));function i(e){return e&&e.__esModule?e:{default:e}}const o=n(16),s={success:0,info:1,warn:2,error:3},l={warn:"[1m[33m",error:"[1m[31m",success:"[1m[32m",info:"[1m[34m",reset:"[39m[22m"};function c(...e){return(0,a.default)(e)}var d;e.exports=(e=>{e=(0,u.default)({formatter:c},e);const t={};return(0,r.default)(s).forEach(n=>{const r=s[n]>=3?"error":s[n]>=2?"warn":"log";t[n]=((...t)=>{console[r](`${d=e.formatter(n,...t),n=n,o?`${l[n=n||"info"]}${d}${l.reset}`:d}`)})}),t})},function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r="https://zudapang.ltd/api",u="https://zudapang.ltd/api";r="https://zudapang.ltd/api",u="https://zudapang.ltd/api",t.default={apiHost:r,apiServerHost:u}},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";var r,u,a=(r=n(0))&&r.__esModule?r:{default:r};e.exports=(e=>(u=(0,a.default)(function*(t,n){404===t.status?(t.redirect(e.redirect||"/"),t.status=302):yield n()}),function(e,t){return u.apply(this,arguments)}))},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";var r=i(n(5)),u=i(n(2)),a=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}const o=n(10),s=n(13);var l;e.exports=((e,t,n)=>(l=(0,a.default)(function*(a,i){a.render=function(i,l,c){const d=o.join(e,`${i}.html`);if(a.type="text/html",t){const e=n.fileSystem;return new u.default(function(t){n.waitUntilValid(function(){let n=e.readFileSync(d).toString();n=n.replace('<div id="root"></div>',`<div id="root">${l}</div><script>window.INITIAL_STATE = ${(0,r.default)(c)}<\/script>`),a.body=n,t(n)})})}return new u.default(function(e,t){s.readFile(d,"utf8",function(n,u){n?(a.body="500 Server Error",a.status=500,a.logger.error("render",n.message||"500 Server Error"),t(n)):(u=u.replace('<div id="root"></div>',`<div id="root">${l}</div><script>window.INITIAL_STATE = ${(0,r.default)(c)}<\/script>`),a.body=u,e(u))})})},yield i()}),function(e,t){return l.apply(this,arguments)}))},function(e,t,n){"use strict";var r,u=(r=n(0))&&r.__esModule?r:{default:r};const a=n(6);var i;e.exports=(e=>{const t=a({formatter(e,t,n){const r=new Date;return`${r.getFullYear()}-${r.getMonth()+1}-${r.getDate()} ${r.getHours()}:${r.getMinutes()}:${r.getSeconds()} [${e}] ${t}: ${n}`}});return i=(0,u.default)(function*(e,n){e.logger=t;let r=(new Date).getTime();yield n();let u=(new Date).getTime()-r,a=e.originalUrl||e.url,i=a;const o=e.param&&e.param.token||"";a.match(/token=[^&]*&?/)&&(i=a.replace(`token=${o}`,"token=xxx")),u>500&&t.warn("access",`access url ${i} use ${u}ms`),t.info("access",`access url ${i} use ${u}ms`)}),function(e,t){return i.apply(this,arguments)}})},function(e,t){e.exports=require("supports-color")},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=((e,t)=>{var n=(e=e.replace(/&amp;/g,"&")).indexOf("#"),r={};if(e.indexOf("?")>-1&&n>-1?n=Math.min(e.indexOf("?"),e.indexOf("#")):e.indexOf("?")>-1&&(n=e.indexOf("?")),n>-1){for(var u=(e=(e=e.substring(n+1)).replace(/#/g,"&")).split("&"),a=0,i=u.length,o=null,s=null;a<i;a++)o=u[a].split("=")[0].toLowerCase(),s=u[a].substring(u[a].indexOf("=")+1),o=o.indexOf("%u")>-1?unescape(o):o,s=s.indexOf("%u")>-1?unescape(s):s,r[o]=s;r.hasUrlParams="1"}return t?r&&r[t]:r})},function(e,t,n){"use strict";var r,u=(r=n(0))&&r.__esModule?r:{default:r};const a=n(18).default;var i;e.exports=(e=>(i=(0,u.default)(function*(e,t){const n=e.originalUrl||e.url;e.param=a(n),yield t()}),function(e,t){return i.apply(this,arguments)}))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=n(7))&&r.__esModule,t.default={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.useEffect)(()=>{i.default.isApp&&a.default.invoke&&a.default.invoke("login",null,e=>{console.log(e)})},[]),u.default.createElement(r.Fragment,null,u.default.createElement("div",null,"未实现的登录页面"))};var r=n(1),u=o(r),a=o(n(21)),i=o(n(20));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=s(n(0)),a=s(n(1)),i=n(4),o=s(n(22));function s(e){return e&&e.__esModule?e:{default:e}}t.default=((e,t)=>{e.get("/login",t(600),(r=(0,u.default)(function*(e,t){const n=(0,i.renderToString)(a.default.createElement(o.default,null));yield e.render("login",n)}),function(e,t){return r.apply(this,arguments)}))})},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{title:t="",content:n=""}=e;return a.default.createElement("div",{className:"container news_content"},t&&n&&a.default.createElement(u.Fragment,null,a.default.createElement("div",{className:"t_newsinfo"},t),a.default.createElement("div",{className:"news_part_father"},a.default.createElement("div",{dangerouslySetInnerHTML:{__html:n},className:"news_part"}))),(!t||!n)&&a.default.createElement("div",{className:"no-tip"},"暂不支持该类型文章"))};var r,u=n(1),a=(r=u)&&r.__esModule?r:{default:r};n(24)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=l(n(0)),a=l(n(1)),i=n(4),o=n(3),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}t.default=((e,t)=>{e.get("/detail",t(600),(r=(0,u.default)(function*(e,t){let n=(new Date).getTime();const{articleId:r="5483008"}=e.query;console.log(r);const u=yield o.netApi.get("/hotnews/detail",{params:{articleId:r}}).catch(function(e){});let l=(new Date).getTime()-n;l>500&&logger.warn("api",`access /hotnews/detail use ${l}ms`),logger.info("api",`access /hotnews/detail use ${l}ms`);let c="",d="";const f=u.data||{};0===f.code&&f.data&&(c=f.data.title,d=(e=>{let t="";for(;-1!=e.indexOf("<img");)t+=e.substring("0",e.indexOf("<img")+4),-1!=(e=e.substring(e.indexOf("<img")+4)).indexOf("src=")&&e.indexOf("src=")<e.indexOf(">")&&(t+=e.substring(0,e.indexOf('src="')+5)+"https://zudapang.ltd/api/hotnews/image?imgUrl=",e=e.substring(e.indexOf('src="')+5));return t+e})(f.data.content));const p=(0,i.renderToString)(a.default.createElement(s.default,{title:c,content:d}));yield e.render("detail",p,{title:c,content:d})}),function(e,t){return r.apply(this,arguments)}))})},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={default:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0));t.default=function(e){const[t,n]=(0,u.useState)(e.records||[]),[l,c]=(0,u.useState)(e.pageNum||1),d=(0,u.useRef)(null),f=(0,u.useRef)(null),p=(0,u.useRef)(null);var m;(0,u.useEffect)(()=>{p.current=(m=(0,r.default)(function*(e){const r=e||l,u=(yield o.netApi.get("/hotnews/list",{params:{pageNum:r}}).catch(function(e){f.current.endDownLoading(!0),f.current.endUpLoading(!1)})).data||{};if(0===u.code){let e=t;const a=u.data||[],i=a.length>0;i?f.current.endUpLoading(!1):f.current.endUpLoading(!0),1===r&&(e=[],f.current.endDownLoading(!0)),n(e.concat(a)),c(i?r+1:r)}else f.current.endDownLoading(!0),f.current.endUpLoading(!1)}),function(e){return m.apply(this,arguments)})},[l,t]),(0,u.useEffect)(()=>{const e=i.default.theme.defaults;f.current=new e({container:d.current,isScrollBar:!0,down:{isAuto:!1,callback:()=>{p.current(1)}},up:{isAuto:!1,callback:()=>{p.current()}}})},[]);const g=t.map(e=>a.default.createElement("div",{className:"list-item",key:e.id},a.default.createElement("div",{className:"item-img"},a.default.createElement("img",{src:`${s.default.apiHost}/hotnews/image?imgUrl=https:${e.image}`})),a.default.createElement("div",{className:"item-intro"},a.default.createElement("div",{"data-articleid":"{{item.id}}"},a.default.createElement("a",{href:`/detail?articleId=${e.id}`},a.default.createElement("span",{className:"item-title"},e.title))),a.default.createElement("div",null,a.default.createElement("span",{className:"item-source"},e.author," | ",e.time)))));return a.default.createElement("div",{className:"container minirefresh-wrap",ref:d},a.default.createElement("div",{className:"minirefresh-scroll"},a.default.createElement("div",{className:"list-items-wrap"},g)))};var u=n(1),a=l(u),i=l(n(28)),o=n(3),s=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}n(27)},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),u(n(30)),u(n(2)),t.generateNet=function(e,t){const n=r.default.create(e);return t(n),n};var r=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var r=i(n(2));t.useInterceptors=function(e){e.interceptors.request.use(e=>(l(e),e.cancelToken=new s(t=>{o.push({u:`${e.url}&${e.method}`,f:t})}),e),e=>r.default.reject(e)),e.interceptors.response.use(e=>(l(e.config),{data:e.data}),e=>r.default.reject(e.response&&e.response.data))};var u=i(n(9)),a=i(n(8));function i(e){return e&&e.__esModule?e:{default:e}}const o=[],s=u.default.CancelToken,l=e=>{for(let t=0;t<o.length;t+=1)o[t].u===`${e.url}&${e.method}`&&o.splice(t,1)};t.config={baseURL:a.default.apiServerHost,withCredentials:!1,timeout:1e4}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=l(n(0)),a=l(n(1)),i=n(4),o=n(3),s=l(n(29));function l(e){return e&&e.__esModule?e:{default:e}}t.default=((e,t)=>{e.get("/",(r=(0,u.default)(function*(e,t){let n=1,r=(new Date).getTime();const u=yield o.netApi.get("/hotnews/list",{params:{pageNum:n}}).catch(function(e){});let l=(new Date).getTime()-r;l>500&&logger.warn("api",`access /hotnews/list use ${l}ms`),logger.info("api",`access /hotnews/list use ${l}ms`);let c=[];u&&u.data&&0===u.data.code&&(c=u.data.data),c.length>0&&(n+=1);const d=(0,i.renderToString)(a.default.createElement(s.default,{records:c,pageNum:n}));yield e.render("list",d,{records:c,pageNum:n})}),function(e,t){return r.apply(this,arguments)}))})},function(e,t){e.exports=require("lru-cache")},function(e,t,n){"use strict";var r,u=(r=n(0))&&r.__esModule?r:{default:r};const a=new(n(34))({max:20971520});var i;e.exports=(e=>(i=(0,u.default)(function*(t,n){const r=(new Date).getTime(),u="__koa_ssr__"+(t.originalUrl||t.url||""),i=a.get(u);if(i)return t.type="text/html",t.body=i,void t.logger.info("cache",`use lru-cache for url ${u}, use ${(new Date).getTime()-r}ms`);yield n(),a.set(u,t.body,1e3*e),t.logger.info("cache",`lru-cache for url ${u}, use expire ${e}s`)}),function(e,t){return i.apply(this,arguments)}))},function(e,t){e.exports=require("koa-router")},function(e,t,n){"use strict";const r=n(36),u=n(35),a=new r,i=n(33).default,o=n(26).default,s=n(23).default;i(a,u),o(a,u),s(a,u),e.exports=a},function(e,t){e.exports=require("koa-static-cache")},function(e,t){e.exports=require("koa-compress")},function(e,t){e.exports=require("koa")},function(e,t,n){"use strict";(function(e){const t=n(10),r=n(40),u=n(39),a=n(38),i=n(37),o=n(19),s=n(6),l=n(15),c=n(14),d=n(12);global.logger=s({formatter(e,t,n){const r=new Date;return`${r.getFullYear()}-${r.getMonth()+1}-${r.getDate()} ${r.getHours()}:${r.getMinutes()}:${r.getSeconds()} [${e}] ${t}: ${n}`}});const f=new r,p=t.join(e,"../dist/client/views");f.use(u({filter:function(e){return/text|javascript/i.test(e)},threshold:2048,flush:n(11).Z_SYNC_FLUSH})),f.use(a(t.join(e,"../dist/client")),{maxAge:31536e3}),f.use(o()),f.use(l()),f.use(c(p,!1)),f.use(i.routes()).use(i.allowedMethods()),f.use(d({redirect:"/"})),f.listen(3003,e=>{logger.success("server","App (pro) is going to be running on port 3003.")})}).call(this,"server")}]);