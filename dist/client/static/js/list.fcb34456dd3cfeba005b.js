(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{3:function(e,t,n){e.exports=n("tDfo")},"5ds/":function(e,t,n){var a=n("Vhmd");"string"==typeof a&&(a=[[e.i,a,""]]);n("aET+")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},Tlf2:function(e,t,n){},Vhmd:function(e,t,n){},oqR7:function(e,t,n){var a=n("Tlf2");"string"==typeof a&&(a=[[e.i,a,""]]);n("aET+")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)},tDfo:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),c=n("i8i4"),i=(n("oqR7"),n("14Xm")),o=n.n(i),s=n("D3Ub"),u=n.n(s),l=n("sk9p"),d=n.n(l),m=n("3Oko"),f=n("4d7F"),p=n.n(f),h=n("vDqi"),g=n.n(h),v="https://zudapang.ltd/api",w=[],E=g.a.CancelToken,b=function(e){for(var t=0;t<w.length;t+=1)w[t].u===e.url+"&"+e.method&&w.splice(t,1)},N={baseURL:v,withCredentials:!1,timeout:1e4};n("QbLZ");var T,I,L=(T=N,function(e){e.interceptors.request.use(function(e){return b(e),e.cancelToken=new E(function(t){w.push({u:e.url+"&"+e.method,f:t})}),e},function(e){return p.a.reject(e)}),e.interceptors.response.use(function(e){return b(e.config),{data:e.data}},function(e){return p.a.reject(e.response&&e.response.data)})}(I=g.a.create(T)),I);n("5ds/"),Object(c.hydrate)(r.a.createElement(function(e){var t=this,n=Object(a.useState)(e.records||[]),c=d()(n,2),i=c[0],s=c[1],l=Object(a.useState)(e.pageNum||1),f=d()(l,2),p=f[0],h=f[1],g=Object(a.useRef)(null),w=Object(a.useRef)(null),E=Object(a.useRef)(null);Object(a.useEffect)(function(){var e;E.current=(e=u()(o.a.mark(function e(n){var a,r,c,u,l,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n||p,e.next=3,L.get("/hotnews/list",{params:{pageNum:a}}).catch(function(e){w.current.endDownLoading(!0),w.current.endUpLoading(!1)});case 3:r=e.sent,0===(c=r.data||{}).code?(u=i,l=c.data||[],(d=l.length>0)?w.current.endUpLoading(!1):w.current.endUpLoading(!0),1===a&&(u=[],w.current.endDownLoading(!0)),s(u.concat(l)),h(d?a+1:a)):(w.current.endDownLoading(!0),w.current.endUpLoading(!1));case 6:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)})},[p,i]),Object(a.useEffect)(function(){var e=m.theme.defaults;w.current=new e({container:g.current,isScrollBar:!0,down:{isAuto:!1,callback:function(){E.current(1)}},up:{isAuto:!1,callback:function(){E.current()}}})},[]);var b=i.map(function(e){return r.a.createElement("div",{className:"list-item",key:e.id},r.a.createElement("div",{className:"item-img"},r.a.createElement("img",{src:v+"/hotnews/image?imgUrl=https:"+e.image})),r.a.createElement("div",{className:"item-intro"},r.a.createElement("div",{"data-articleid":"{{item.id}}"},r.a.createElement("a",{href:"/detail?articleId="+e.id},r.a.createElement("span",{className:"item-title"},e.title))),r.a.createElement("div",null,r.a.createElement("span",{className:"item-source"},e.author," | ",e.time))))});return r.a.createElement("div",{className:"container minirefresh-wrap",ref:g},r.a.createElement("div",{className:"minirefresh-scroll"},r.a.createElement("div",{className:"list-items-wrap"},b)))},{records:window.INITIAL_STATE.records,pageNum:window.INITIAL_STATE.pageNum}),document.getElementById("root"))}},[[3,0,1]]]);
//# sourceMappingURL=list.fcb34456dd3cfeba005b.js.map